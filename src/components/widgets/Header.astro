---
import { Icon } from 'astro-icon/components'
import ToggleTheme from '~/components/common/ToggleTheme.astro'
import ToggleMenu from '~/components/common/ToggleMenu.astro'
import Button from '~/components/ui/Button.astro'
import '@fontsource/anuphan'

import { getHomePermalink } from '~/utils/permalinks'
import { trimSlash, getAsset } from '~/utils/permalinks'
import type { Props } from '~/types'

const props = Astro.props || {}
const id = props.id ?? 'header'
const links = props.links ?? []
const actions = props.actions ?? []
const isSticky = props.isSticky ?? false
const isDark = props.isDark ?? false
const isFullWidth = props.isFullWidth ?? false
const showToggleTheme = props.showToggleTheme ?? false
const showRssFeed = props.showRssFeed ?? false
const position = props.position ?? 'center'

const currentPath = Astro.url ? `/${trimSlash(new URL(Astro.url).pathname)}` : '/'
---

<script client:load>
  document.addEventListener('DOMContentLoaded', () => {
    const header = document.querySelector('#header')
    const shrinkThreshold = 50

    if (!header) return

    window.addEventListener('scroll', () => {
      if (window.scrollY > shrinkThreshold) {
        header.classList.add('navbar-shrink')
      } else {
        header.classList.remove('navbar-shrink')
      }
    })
  })
</script>

<header id="header" class="bg-[#F5EFE6] border-b border-[#EDE0D4] sticky top-0 z-50 shadow-md">
  <div class="container mx-auto flex items-center justify-between py-2 px-6 relative">
    <div class="flex items-center space-x-4">
      <button class="md:hidden p-0 text-[#4B3832] hover:text-[#8C6A5E] focus:outline-none">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="2"
          stroke="currentColor"
          class="w-6 h-6"
        >
          <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16m-7 6h7"></path>
        </svg>
      </button>

      <a href="/" class="flex items-center">
        <img
          src="/src/assets/images/logo_design/svg/noetiq_logodesign_secondary_logo_color.svg"
          alt="Noetiq Logo"
          class="h-14 w-auto"
        />
      </a>
    </div>

    <nav
      class="hidden md:flex absolute left-1/2 transform -translate-x-1/2 space-x-8 text-[#4B3832] font-light font-[Anuphan]"
    >
      <a href="/" class="hover:text-[#8C6A5E] transition">Home</a>
      <a href="/solutions" class="hover:text-[#8C6A5E] transition">Solutions</a>
      <a href="/blog" class="hover:text-[#8C6A5E] transition">Research Blog</a>
      <a href="/about" class="hover:text-[#8C6A5E] transition">About</a>
      <a href="/contact" class="hover:text-[#8C6A5E] transition">Contact</a>
    </nav>

    <div class="hidden md:flex w-[120px]"></div>
  </div>
</header>
